{"note":"Don't delete this file! It's used internally to help with page regeneration.","google":"","tagline":"An image view for complex polygon map","body":"# MTImageMapView\r\n\r\nAn UIImageView subclass to select a complex polygon map out of many.<br/>\r\nExtremely useful for handling touches on, for example, Europe map, or an eye of owl.\r\n\r\n\r\n## Screen Shots\r\n<img \r\nsrc=\"http://farm9.staticflickr.com/8484/8230660409_79df1af06b.jpg\" alt=\"Debug screen\" title=\"Debug screen\" style=\"float:left;display:block;\">\r\n<img src=\"http://farm9.staticflickr.com/8342/8231732162_28bb9033a8.jpg\" alt=\"Normal screen\" title=\"Normal screen\" style=\"float:left;display:block;margin-left:1em;\">\r\n<br/>\r\n\r\n## Features\r\n\r\n- Handling multiple maps on an image.<sup>1</sup> \r\n- Multiple MTImageMapView on a single view\r\n- Support Interface Builder, or progmatical initiation\r\n- Batch mapping. <sup>2</sup> \r\n- Completion block for notifying the end of mapping.<sup>3</sup> \r\n- Delegate to provide selected map index\r\n- Single public class and protocol to implement\r\n- Debug mode to superimpose maps on an image\r\n\r\n<ol>\r\n\t<li>There is no limit but you need to be reasonable. In this example, I put around 50.</li>\r\n\t<li>Mapping takes place in background and prevents UI animation from stuttering.</li>\r\n\t<li>At the end of mapping, mapping function notifies on main thread.</li>\r\n</ol>\r\n\r\n## Support\r\n\r\n- XCode 4.4 or higher required.\r\n- Works on iOS 4.3 ~ iOS 6.0 ARC/MRC (tested on devices.)\r\n- Starting from iOS 6.0, dispatch objects are Object-C objects, meaning when you are to go with ARC, dispatch objects too are managed by ARC. You can read more detail at [Does ARC support dispatch queues?](http://stackoverflow.com/questions/8618632/does-arc-support-dispatch-queues) <br/>\r\n This paricular issue is solved with <code>OS_OBJECT_USE_OBJC</code> flag. You can read more in detail at [OMG, GCD+ARC](http://www.cocoanetics.com/2013/01/omg-gcdarc/)\r\n\r\n## Implementation\r\n1. Use tools like [Gimp](http://www.gimp.org/) and generate a image map.\r\n2. Copy only coordinate pairs of the map (e.g. \"123,242,452,242,142,322\") in NSString type.\r\n3. Put the strings in an NSArray.\r\n4. Instantiate MTImageMapView and implement MTImageMapDelegate procotol\r\n5. pass the array to the map view.\r\n   (You can use .plist to pass a map batch to a MTImageMapView. )\r\n\r\n```objective-c\r\n    MTImageMapView *viewImageMap =\\\r\n        [[MTImageMapView alloc]\r\n         initWithImage:\r\n            [UIImage imageNamed:@\"sample_image.png\"]\r\n         ];\r\n\r\n    [viewImageMap setDelegate:self];\r\n    [self.view addSubview:viewImageMap];\r\n    \r\n    NSArray *arrStates = \\\r\n        [NSArray arrayWithObjects:\r\n         @\"542,94,568,94,568,111,542,111\"\r\n         @\"555,150,574,150,574,161,555,161\"\r\n         @\"535,149,551,149,551,159,535,159\"\r\n         ,nil];\r\n\r\n    [viewImageMap\r\n     setMapping:arrStates\r\n     doneBlock:^(MTImageMapView *imageMapView) {\r\n         NSLog(@\"Mapping complete!\");\r\n     }];\r\n```\r\n\r\n```objective-c\r\n\t-(void)imageMapView:(MTImageMapView *)inImageMapView\r\n\t   didSelectMapArea:(NSUInteger)inIndexSelected\r\n\t{\r\n\t    [[[[UIAlertView alloc]\r\n\t     initWithTitle:@\"*** State Name ***\"\r\n\t     message:[stateNames objectAtIndex:inIndexSelected]\r\n\t     delegate:nil\r\n\t     cancelButtonTitle:@\"Ok\"\r\n\t     otherButtonTitles:nil]\r\n\t      autorelease] show];\r\n\t}\r\n```\r\n### LIMITS\r\n- Delegate only receives the index of a map.\r\n- Coordinates must be provided in pairs.\r\n- At least 3 pairs of coordinates must be presented.\r\n- No \"rect\", \"circle\" type map is supported. \"Polygon\" only at this time being.\r\n\r\n## Credits\r\nUS states image and all coordinates are credited to [Illinois Center for Information Technology and Web Accessibility](http://html.cita.illinois.edu/text/map/map-example.php).</a>\r\n\r\n## License\r\n<pre>BSD license follows (http://www.opensource.org/licenses/bsd-license.php)\r\n\r\nCopyright Â© 2012-2013 Sung-Taek, Kim <stkim1@colorfulglue.com> All Rights Reserved.\r\n\r\nRedistribution and use in source and binary forms, with or without modification,\r\nare permitted provided that the following conditions are met:\r\n\r\nRedistributions of  source code  must retain  the above  copyright notice,\r\nthis list of  conditions and the following  disclaimer. Redistributions in\r\nbinary  form must  reproduce  the  above copyright  notice,  this list  of\r\nconditions and the following disclaimer  in the documentation and/or other\r\nmaterials  provided with  the distribution.  Neither the  name of  Sung-Ta\r\nek kim nor the names of its contributors may be used to endorse or promote\r\nproducts  derived  from  this  software  without  specific  prior  written\r\npermission.  THIS  SOFTWARE  IS  PROVIDED BY  THE  COPYRIGHT  HOLDERS  AND\r\nCONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT\r\nNOT LIMITED TO, THE IMPLIED  WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\nA  PARTICULAR PURPOSE  ARE DISCLAIMED.  IN  NO EVENT  SHALL THE  COPYRIGHT\r\nHOLDER OR  CONTRIBUTORS BE  LIABLE FOR  ANY DIRECT,  INDIRECT, INCIDENTAL,\r\nSPECIAL, EXEMPLARY,  OR CONSEQUENTIAL DAMAGES (INCLUDING,  BUT NOT LIMITED\r\nTO, PROCUREMENT  OF SUBSTITUTE GOODS  OR SERVICES;  LOSS OF USE,  DATA, OR\r\nPROFITS; OR  BUSINESS INTERRUPTION)  HOWEVER CAUSED AND  ON ANY  THEORY OF\r\nLIABILITY,  WHETHER  IN CONTRACT,  STRICT  LIABILITY,  OR TORT  (INCLUDING\r\nNEGLIGENCE  OR OTHERWISE)  ARISING  IN ANY  WAY  OUT OF  THE  USE OF  THIS\r\nSOFTWARE,   EVEN  IF   ADVISED  OF   THE  POSSIBILITY   OF  SUCH   DAMAGE.</pre>\r\n_VER_ : 1.1<br/>\r\n_UPDATED_ : Jan. 22, 2013","name":"MtImageMapView"}